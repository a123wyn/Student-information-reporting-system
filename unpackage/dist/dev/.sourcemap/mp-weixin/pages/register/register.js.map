{"version":3,"sources":["webpack:///D:/茶/2017级厦大/软件体系结构/thera_warehouse/main.js","webpack:///D:/茶/2017级厦大/软件体系结构/thera_warehouse/pages/register/register.vue?58a1","webpack:///D:/茶/2017级厦大/软件体系结构/thera_warehouse/pages/register/register.vue?825f","webpack:///D:/茶/2017级厦大/软件体系结构/thera_warehouse/pages/register/register.vue?0b35","webpack:///D:/茶/2017级厦大/软件体系结构/thera_warehouse/pages/register/register.vue?2acc","webpack:///D:/茶/2017级厦大/软件体系结构/thera_warehouse/pages/register/register.vue","webpack:///D:/茶/2017级厦大/软件体系结构/thera_warehouse/pages/register/register.vue?0374","webpack:///D:/茶/2017级厦大/软件体系结构/thera_warehouse/pages/register/register.vue?42a0"],"names":["createPage","Page","data","username","password","repeatPassword","tabList","name","icon","userType","school","components","WucTab","uniIcons","computed","onLoad","uni","getStorageSync","methods","returnLogin","switchTab","url","tabChange","index","signUp","showModal","content","showCancel","console","log","showLoading","title","uniCloud","callFunction","then","res","hideLoading","result","status","Promise","reject","Error","msg","setStorageSync","token","showToast","success","catch","err","message","validateToken","onReady"],"mappings":"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","file":"pages/register/register.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/register/register.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./register.vue?vue&type=template&id=0018ecd0&\"\nvar renderjs\nimport script from \"./register.vue?vue&type=script&lang=js&\"\nexport * from \"./register.vue?vue&type=script&lang=js&\"\nimport style0 from \"./register.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\茶\\\\2017级厦大\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('0018ecd0')) {\n      api.createRecord('0018ecd0', component.options)\n    } else {\n      api.reload('0018ecd0', component.options)\n    }\n    module.hot.accept(\"./register.vue?vue&type=template&id=0018ecd0&\", function () {\n      api.rerender('0018ecd0', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"软件体系结构/thera_warehouse/pages/register/register.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./register.vue?vue&type=template&id=0018ecd0&\"","var components = {\n  \"wuc-tab\": () =>\n    import(/* webpackChunkName: \"components/wuc-tab/wuc-tab\" */ \"@/components/wuc-tab/wuc-tab.vue\"),\n  \"uni-icons\": () =>\n    import(/* webpackChunkName: \"components/uni-icons/uni-icons\" */ \"@/components/uni-icons/uni-icons.vue\")\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./register.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\timport WucTab from '@/components/wuc-tab/wuc-tab.vue';\n\timport uniIcons from \"@/components/uni-icons/uni-icons.vue\"\n\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tusername: '',\n\t\t\t\tpassword: '',\n\t\t\t\trepeatPassword:'',\n\t\t\t\ttabList: [\n\t\t\t\t\t\t\t{\n\t\t\t\t \t\t\t\tname: '老师',\n\t\t\t\t \t\t\t\ticon: 'cuIcon-comment'\n\t\t\t\t \t\t\t},\n\t\t\t\t \t \t\t{\n\t\t\t\t \t \t\t\tname: '学生',\n\t\t\t\t \t \t\t\ticon: 'cuIcon-dianhua'\n\t\t\t\t \t \t\t},\n\t\t\t\t \t\t// \t{\n\t\t\t\t \t\t// \t\tname: '家长',\n\t\t\t\t \t\t// \t\ticon: 'cuIcon-wifi'\n\t\t\t\t \t\t// \t},\n\t\t\t\t \t // \t\t{\n\t\t\t\t \t // \t\t\tname: '管理员',\n\t\t\t\t \t // \t\t\ticon: 'cuIcon-wifi'\n\t\t\t\t\t\t\t// }\n\t\t\t\t],\n\t\t\t\tuserType: 0,\n\t\t\t\tschool:''\n\t\t\t};\n\t\t},\n\t\tcomponents: {\n\t\t\tWucTab,\n\t\t\tuniIcons,\n\t\t},\n\t\tcomputed: {},\n\t\tonLoad() {\n\t\t\tthis.school = uni.getStorageSync('school')\n\t\t},\n\t\tmethods: {\n\t\t\treturnLogin() {\n\t\t\t\tuni.switchTab({\n\t\t\t\t\turl: '/pages/login/login'\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\ttabChange(index) {\n\t\t\t\tthis.userType = index;\n\t\t\t},\n\t\t\t// 注册\n\t\t\tsignUp() {\n\t\t\t\tconst {\n\t\t\t\t\tusername,\n\t\t\t\t\tpassword,\n\t\t\t\t\trepeatPassword,\n\t\t\t\t\tuserType,\n\t\t\t\t} = this\n\t\t\t\tif(repeatPassword !== password){\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\tcontent: '两次密码不一致',\n\t\t\t\t\t\tshowCancel: false\n\t\t\t\t\t})\n\t\t\t\t\treturn \n\t\t\t\t}\n\t\t\t\t// if(username.indexOf('admin')  && this.userType == 3){\n\t\t\t\t// \tuni.showModal({\n\t\t\t\t// \t\tcontent: '您不是管理，请离开',\n\t\t\t\t// \t\tshowCancel: false\n\t\t\t\t// \t})\n\t\t\t\t// \treturn \n\t\t\t\t// }\n\t\t\t\tconsole.log(userType);\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: '注册中...'\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\tuniCloud.callFunction({\n\t\t\t\t\tname: 'signUp',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tusername,\n\t\t\t\t\t\tpassword,\n\t\t\t\t\t\tuserType,\n\t\t\t\t\t},\n\t\t\t\t}).then((res) => {\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\tif (res.result.status !== 0) {\n\t\t\t\t\t\treturn Promise.reject(new Error(res.result.msg))\n\t\t\t\t\t}\n\t\t\t\t\tuni.setStorageSync('token', res.result.token)\n                    // 显示消息提示框\n                    uni.showToast({\n                        icon:\"none\",\n                        title:\"注册成功，请重新登录\",\n                        success() {\n\t\t\t\t\t\t\t// 解决不跳转的bug\n\t\t\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\t\t\turl: '/pages/login/login'\n\t\t\t\t\t\t\t})\n                        }\n                    })\n\t\t\t\t}).catch((err) => {\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\tcontent: '注册失败，' + err.message,\n\t\t\t\t\t\tshowCancel: false\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t},\n\t\t\tvalidateToken() {\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: '加载中...'\n\t\t\t\t});\n\t\t\t\tuniCloud.callFunction({\n\t\t\t\t\tname: 'validateToken',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\ttoken: uni.getStorageSync('token')\n\t\t\t\t\t}\n\t\t\t\t}).then((res) => {\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\tcontent: res.result.msg,\n\t\t\t\t\t\tshowCancel: false\n\t\t\t\t\t})\n\t\t\t\t}).catch((err) => {\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\tcontent: '请求云函数发生错误，' + err.message,\n\t\t\t\t\t\tshowCancel: false\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t},\n\t\t},\n\t\tonReady() {}\n\t};\n","import mod from \"-!../../../../HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./register.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./register.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}