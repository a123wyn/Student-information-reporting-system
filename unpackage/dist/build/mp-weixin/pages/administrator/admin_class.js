(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/administrator/admin_class"],{1695:function(t,n,e){"use strict";(function(t){e("a4ad"),e("921b");i(e("66fd"));var n=i(e("c7e1"));function i(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("543d")["createPage"])},"17cc":function(t,n,e){"use strict";e.r(n);var i=e("1d2c"),s=e.n(i);for(var a in i)"default"!==a&&function(t){e.d(n,t,function(){return i[t]})}(a);n["default"]=s.a},"1d2c":function(t,n,e){"use strict";(function(t,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=function(){return e.e("components/t-table/t-table").then(e.bind(null,"80eb"))},a=function(){return e.e("components/t-table/t-th").then(e.bind(null,"d608"))},o=function(){return e.e("components/t-table/t-tr").then(e.bind(null,"887e"))},c=function(){return e.e("components/t-table/t-td").then(e.bind(null,"d4f7"))},d={components:{tTable:s,tTh:a,tTr:o,tTd:c},data:function(){return{tableList:[],grade_id:"",name:"",student_sum:"",order:"",isedit:!1,list_item:{}}},onLoad:function(t){this.grade_id=t.grade_id,this.init()},methods:{init:function(){var n=this;t.showLoading({title:"查询中，请稍等！"}),this.tableList=[],i.callFunction({name:"getClass",data:{grade_id:this.grade_id}}).then(function(e){t.hideLoading(),console.log(e),n.tableList=e.result}).catch(function(n){t.hideLoading(),console.error(n)})},submit:function(){var n=this;if(""==this.name)return t.showToast({icon:"none",title:"班级名称不允许为空！"}),!1;if(0==this.student_sum)return t.showToast({icon:"none",title:"班级总人数不允许为0！"}),!1;if(1==this.isedit){var e={id:this.list_item._id,data:{}};delete this.list_item._id,this.list_item.name=this.name,this.list_item.student_sum=parseInt(this.student_sum),e.data=this.list_item,t.showModal({title:"提示",content:"是否提交对该班级的修改？",success:function(s){s.confirm&&i.callFunction({name:"upClassItem",data:e}).then(function(e){t.showLoading({title:"提交中.."}),t.hideLoading(),n.init()}).catch(function(n){t.showLoading({title:"提交中.."}),t.hideLoading(),console.error(n)})}})}else{var s={name:this.name,student_sum:parseInt(this.student_sum),order:this.tableList.length+1,grade_id:this.grade_id};t.showModal({title:"提示",content:"是否添加该班级？",success:function(e){e.confirm&&i.callFunction({name:"addClassItem",data:s}).then(function(e){t.hideLoading(),n.init()}).catch(function(n){t.hideLoading(),console.error(n)})}})}this.isedit=!1,this.name="",this.student_sum=""},cancel:function(){this.isedit=!1,this.name="",this.student_sum=""},edit:function(t){this.name=t.name,this.student_sum=t.student_sum,this.isedit=!0,this.list_item=t},del:function(n){var e=this;t.showModal({title:"警告",content:"此操作会将该班级下所有学生及已有的健康报备数据全部删除！！！",success:function(s){if(s.confirm){var a=e.tableList.findIndex(function(t){return t.name==n.name});e.tableList.splice(a,1),i.callFunction({name:"delClassItem",data:{_id:n._id}}).then(function(t){console.log(t),e.init()}).catch(function(n){t.hideLoading(),console.error(n)})}}})}}};n.default=d}).call(this,e("543d")["default"],e("a9ff")["default"])},"27cd":function(t,n,e){"use strict";var i={"t-table":()=>e.e("components/t-table/t-table").then(e.bind(null,"80eb"))},s=function(){var t=this,n=t.$createElement;t._self._c},a=[];e.d(n,"b",function(){return s}),e.d(n,"c",function(){return a}),e.d(n,"a",function(){return i})},c7e1:function(t,n,e){"use strict";e.r(n);var i=e("27cd"),s=e("17cc");for(var a in s)"default"!==a&&function(t){e.d(n,t,function(){return s[t]})}(a);var o,c=e("f0c5"),d=Object(c["a"])(s["default"],i["b"],i["c"],!1,null,"1320fc96",null,!1,i["a"],o);n["default"]=d.exports}},[["1695","common/runtime","common/vendor"]]]);