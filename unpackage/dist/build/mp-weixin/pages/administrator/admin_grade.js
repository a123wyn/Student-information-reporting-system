(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/administrator/admin_grade"],{"4f85":function(t,n,e){"use strict";(function(t,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(){return e.e("components/t-table/t-table").then(e.bind(null,"80eb"))},o=function(){return e.e("components/t-table/t-th").then(e.bind(null,"d608"))},c=function(){return e.e("components/t-table/t-tr").then(e.bind(null,"887e"))},d=function(){return e.e("components/t-table/t-td").then(e.bind(null,"d4f7"))},s={components:{tTable:a,tTh:o,tTr:c,tTd:d},data:function(){return{tableList:[],academy_id:"",name:"",order:"",isedit:!1,list_item:{}}},onLoad:function(){this.init()},methods:{init:function(){var n=this;t.showLoading({title:"查询中，请稍等！"}),this.academy_id=t.getStorageSync("academy_id"),i.callFunction({name:"getGrade",data:{academy_id:this.academy_id}}).then(function(e){t.hideLoading(),console.log(e),n.tableList=e.result}).catch(function(n){t.hideLoading(),console.error(n)})},submit:function(){var n=this;if(""==this.name)return t.showToast({icon:"none",title:"年级名称不允许为空！"}),!1;if(1==this.isedit){var e={id:this.list_item._id,data:{}};delete this.list_item._id,this.list_item.name=this.name,e.data=this.list_item,t.showModal({title:"提示",content:"是否提交对该年级的修改？",success:function(a){a.confirm&&i.callFunction({name:"upGradeItem",data:e}).then(function(e){t.showLoading({title:"提交中.."}),t.hideLoading(),n.init()}).catch(function(n){t.showLoading({title:"提交中.."}),t.hideLoading(),console.error(n)})}})}else{this.academy_id=t.getStorageSync("academy_id");var a={name:this.name,order:this.tableList.length+1,academy_id:this.academy_id};t.showModal({title:"提示",content:"是否添加该年级？",success:function(e){e.confirm&&i.callFunction({name:"addGradeItem",data:a}).then(function(e){t.showLoading({title:"提交中.."}),t.hideLoading(),n.init()}).catch(function(n){t.showLoading({title:"提交中.."}),t.hideLoading(),console.error(n)})}})}this.isedit=!1,this.name=""},cancel:function(){this.isedit=!1,this.name=""},navTo:function(n){t.navigateTo({url:n})},edit:function(t){this.name=t.name,this.isedit=!0,this.list_item=t},del:function(n){var e=this;t.showModal({title:"警告",content:"此操作会将该年级下关联的所有班级全部删除！！！",success:function(a){if(a.confirm){var o=e.tableList.findIndex(function(t){return t.name==n.name});e.tableList.splice(o,1),i.callFunction({name:"delGradeItem",data:{_id:n._id}}).then(function(t){console.log(t),e.init()}).catch(function(n){t.hideLoading(),console.error(n)})}}})}}};n.default=s}).call(this,e("543d")["default"],e("a9ff")["default"])},"69f7":function(t,n,e){"use strict";(function(t){e("a4ad"),e("921b");i(e("66fd"));var n=i(e("99ce"));function i(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("543d")["createPage"])},"899d":function(t,n,e){"use strict";e.r(n);var i=e("4f85"),a=e.n(i);for(var o in i)"default"!==o&&function(t){e.d(n,t,function(){return i[t]})}(o);n["default"]=a.a},9923:function(t,n,e){"use strict";var i={"t-table":()=>e.e("components/t-table/t-table").then(e.bind(null,"80eb"))},a=function(){var t=this,n=t.$createElement;t._self._c},o=[];e.d(n,"b",function(){return a}),e.d(n,"c",function(){return o}),e.d(n,"a",function(){return i})},"99ce":function(t,n,e){"use strict";e.r(n);var i=e("9923"),a=e("899d");for(var o in a)"default"!==o&&function(t){e.d(n,t,function(){return a[t]})}(o);var c,d=e("f0c5"),s=Object(d["a"])(a["default"],i["b"],i["c"],!1,null,"db95f6fc",null,!1,i["a"],c);n["default"]=s.exports}},[["69f7","common/runtime","common/vendor"]]]);